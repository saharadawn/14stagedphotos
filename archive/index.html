<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>15foundphotos</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="top">

<header class="header">
    
    <!-- Navigation bar -->
    <nav>
        <ul>
            <li><a href="https://saharadawn.github.io/20photos.github.io/archive/">ARCHIVE</a></li>
            <li><a href="https://saharadawn.github.io/20photos.github.io/about/">ABOUT</a></li>
            <li><a href="https://saharadawn.github.io/20photos.github.io/gallery/">GALLERY</a></li>
        </ul>
    </nav>
 
</header>
<div class="title">15 FOUND PHOTOS AND THEIR <br> STAGED COUNTERPARTS</div>
</div>

    <div id="preloader">
        <div id="image-cycle">
            <img src="tie.png" alt="Loading Image 1">
         
            <img src="apple.png" alt="Loading Image 3">
            <img src="20.png" alt="Loading Image 4">
            <img src="20phone.JPG" alt="Loading Image 5">
            <img src="earbuds.png" alt="Loading Image 6">
            <img src="earbudsphone.JPG" alt="Loading Image 7">
            <img src="leaf.png" alt="Loading Image 8">
            <img src="leafphone.JPG" alt="Loading Image 9">
            <img src="binder.png" alt="Loading Image 10">
            <img src="cutlery.png" alt="Loading Image 11">
            <img src="flower.png" alt="Loading Image 12">
            <img src="flowerphone.JPG" alt="Loading Image 13">
            <img src="cup.png" alt="Loading Image 14">
            <img src="glove.png" alt="Loading Image 15">
            <img src="glovephone.JPG" alt="Loading Image 16">
            <img src="pear.png" alt="Loading Image 17">
            <img src="pin.png" alt="Loading Image 18">
            <img src="pinphone.JPG" alt="Loading Image 19">
            <img src="grapes.png" alt="Loading Image 20">
            <img src="grapephone.JPG" alt="Loading Image 21">
            <img src="glass.png" alt="Loading Image 22">
            <img src="glassphone.JPG " alt="Loading Image 3">
            <img src="necklace.png" alt="Loading Image 23">
            
            
            <!-- Add more images as needed -->
        </div>
    </div>
    <div id="main-content">
    <button id="toggleButton">VIEW</button>
<div class="grid-container">
    <div class="grid-item">
        <div class="caption">
         
        </div>
        <img class="expandable-image" src="tiephone.jpg" alt="Image 1" data-alternate-src="tie.png"data-alt-caption="— TIE" >
    </div>
    <div class="grid-item">
        <div class="caption">
             
        </div>
        <img class="expandable-image" src="applephone.JPG" alt="Image 1" data-alternate-src="apple.png" data-alt-caption="— APPLE">
        
    </div>
    <div class="grid-item">
        <div class="caption">
         
        
        </div>
        <img class="expandable-image" src="20phone.JPG" alt="Image 1" data-alternate-src="20.png" data-alt-caption="— $20">
        
    </div>
    <div class="grid-item">
        <div class="caption">
           
        </div>
        <img class="expandable-image" src="earbudsphone.JPG" alt="Image 1" data-alternate-src="earbuds.png" data-alt-caption="— EARBUDS">
        
    </div>
    <div class="grid-item">
        <div class="caption">
           
        </div>
        <img class="expandable-image" src="leafphone.JPG" alt="Image 1" data-alternate-src="leaf.png" data-alt-caption="— LEAF">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="binderphone.JPG" alt="Image 1" data-alternate-src="binder.png" data-alt-caption="— BINDER CLIP">
        
    </div>
    <div class="grid-item">
        <div class="caption">
           
        </div>
        <img class="expandable-image" src="cutleryphone.jpg" alt="Image 1" data-alternate-src="cutlery.png" data-alt-caption="— CUTLERY">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="flowerphone.JPG" alt="Image 1" data-alternate-src="flower.png" data-alt-caption="— FLOWERS">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="mugphone.jpg" alt="Image 1" data-alternate-src="cup.png" data-alt-caption="— MUG">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="glovephone.JPG" alt="Image 1" data-alternate-src="glove.png" data-alt-caption="— GLOVE">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="pearphone.JPG" alt="Image 1" data-alternate-src="pear.png" data-alt-caption="— PEAR">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="pinphone.JPG" alt="Image 1" data-alternate-src="pin.png" data-alt-caption="— PIN">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="grapephone.JPG" alt="Image 1" data-alternate-src="grapes.png" data-alt-caption="— GRAPES">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="glassphone.JPG" alt="Image 1" data-alternate-src="glass.png" data-alt-caption="— GLASS">
        
    </div>
    <div class="grid-item">
        <div class="caption">
            
        </div>
        <img class="expandable-image" src="necklacephone.JPG" alt="Image 1" data-alternate-src="necklace.png" data-alt-caption="— NECKLACE">
        
    </div>

    
   
</div>

<script>// Function to handle fade-out effect


    function showBlankScreen() {
        // Fade out the preloader after the image cycle ends
        setTimeout(function() {
            var preloader = document.getElementById('preloader');
            preloader.style.transition = 'opacity 2s';
            preloader.style.opacity = '0';
    
            // Hide the preloader after the fade out
            setTimeout(function() {
                preloader.style.display = 'none';
            }, 2000); // Adjust timing to match the transition duration
        }, 6000); // Adjust the duration of the image cycle as needed
    }
    
    // Add event listener to all images with class "expandable-image"
document.querySelectorAll('.expandable-image').forEach(function(image) {
    // Store the original image source
    image.dataset.originalSrc = image.src;
    // Store the original caption text
    image.dataset.originalCaption = image.previousElementSibling.textContent;
    // Store the alternate caption text
    image.dataset.altCaption = image.dataset.altCaption || "OBJECT"; // Set your alternate caption here

    image.addEventListener('click', toggleImage);
});

// Add event listener to the toggleButton
document.getElementById('toggleButton').addEventListener('click', function() {
    // Simulate click on all images with class "expandable-image"
    document.querySelectorAll('.expandable-image').forEach(function(image) {
        toggleImage.call(image);
    });
});

function toggleImage() {
    // Toggle between two different images
    var newSrc = this.dataset.originalSrc === this.src ? this.dataset.alternateSrc : this.dataset.originalSrc;
    this.src = newSrc;

    // Get the caption element associated with the clicked image
    var caption = this.previousElementSibling;

    // Delay the expansion to ensure the image switch happens first
    setTimeout(() => {
        // Toggle class "expanded" on the clicked image's parent
        this.parentElement.classList.toggle('expanded');

        // Toggle between original and alternate caption text
        if (this.parentElement.classList.contains('expanded')) {
            // Update caption text when image is expanded
            caption.textContent = this.dataset.altCaption;
        } else {
            // Restore original caption text when image is collapsed
            caption.textContent = this.dataset.originalCaption;
        }
    }, 10); // Adjust delay time as needed
}

    var slideIndex = 0;
var totalSlides = document.querySelectorAll('#image-cycle img').length;
var carouselTimer; // Variable to store the timer for the carousel

carousel(); // Start the carousel initially

function carousel() {
    var i;
    var slides = document.querySelectorAll('#image-cycle img');
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = 'none';  
    }
    slideIndex++;
    if (slideIndex > slides.length) {
        slideIndex = 1;
        // Reset the timer for infinite carousel until clicked
        carouselTimer = setTimeout(carousel, 100); // Change image every 2 seconds
    } else {
        slides[slideIndex-1].style.display = 'block';
        // Continue the carousel until clicked
        carouselTimer = setTimeout(carousel, 100); // Change image every 2 seconds
    }
}
// Function to fetch JSON data and update captions
function updateCaptionsFromJSON() {
    fetch('data.json')
        .then(response => response.json()) // Parse JSON response
        .then(data => {
            // Update captions based on JSON data
            document.querySelectorAll('.expandable-image').forEach(function(image, index) {
                var caption = image.previousElementSibling;
                var originalCaption = `
                    ${data[index].objectName}
                    ${data[index].date}
                    ${data[index].camera}
                    ${data[index].location}
                `;
                image.dataset.originalCaption = originalCaption;
                if (!image.parentElement.classList.contains('expanded')) {
                    // If the image is not expanded, set the caption to the original caption from JSON data
                    caption.innerHTML = originalCaption;
                }
            });
        })
        .catch(error => console.error('Error loading JSON:', error));
}

// Call the function to fetch JSON data and update captions
updateCaptionsFromJSON();




// Function to handle fading out the carousel
function fadeOutCarousel() {
    var carousel = document.getElementById('preloader');
    carousel.style.transition = 'opacity .2s';
    carousel.style.opacity = '0';

    // Hide the carousel after the fade out
    setTimeout(function() {
        carousel.style.display = 'none';
    }, 200); // Adjust timing to match the transition duration
    
    // Show the main content
    var mainContent = document.getElementById('main-content');
    mainContent.style.display = 'block';
}

// Add click event listener to fade out the carousel and show main content when clicked
document.addEventListener('click', fadeOutCarousel);


// Add click event listener to stop the carousel when clicked
document.addEventListener('click', stopCarousel);


    </script>


</body>
</html>